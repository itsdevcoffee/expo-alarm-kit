{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":"AAAA,OAAO,kBAGN,MAAM,sBAAsB,CAAC;AAI9B;;;;;;;;;;;;;;;;;;GAkBG;AACH,MAAM,UAAU,SAAS,CAAC,kBAA0B;IAClD,OAAO,kBAAkB,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC;AAC1D,CAAC;AAED;;;;GAIG;AACH,MAAM,CAAC,KAAK,UAAU,oBAAoB;IACxC,OAAO,kBAAkB,CAAC,oBAAoB,EAAE,CAAC;AACnD,CAAC;AAED;;;;GAIG;AACH,MAAM,UAAU,YAAY;IAC1B,OAAO,kBAAkB,CAAC,YAAY,EAAE,CAAC;AAC3C,CAAC;AAqCD;;;;GAIG;AACH,MAAM,CAAC,KAAK,UAAU,aAAa,CAAC,OAA6B;IAC/D,2CAA2C;IAC3C,IAAI,YAAoB,CAAC;IAEzB,IAAI,OAAO,CAAC,IAAI,KAAK,SAAS,IAAI,OAAO,CAAC,YAAY,KAAK,SAAS,EAAE,CAAC;QACrE,MAAM,IAAI,KAAK,CAAC,+CAA+C,CAAC,CAAC;IACnE,CAAC;IAED,IAAI,OAAO,CAAC,IAAI,KAAK,SAAS,EAAE,CAAC;QAC/B,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,CAAC;IAC3D,CAAC;SAAM,IAAI,OAAO,CAAC,YAAY,KAAK,SAAS,EAAE,CAAC;QAC9C,YAAY,GAAG,OAAO,CAAC,YAAY,CAAC;IACtC,CAAC;SAAM,CAAC;QACN,MAAM,IAAI,KAAK,CAAC,0CAA0C,CAAC,CAAC;IAC9D,CAAC;IAED,0CAA0C;IAC1C,OAAO,kBAAkB,CAAC,aAAa,CAAC;QACtC,GAAG,OAAO;QACV,YAAY;KACb,CAAC,CAAC;AACL,CAAC;AAuCD;;;;GAIG;AACH,MAAM,CAAC,KAAK,UAAU,sBAAsB,CAAC,OAAsC;IACjF,OAAO,kBAAkB,CAAC,sBAAsB,CAAC,OAAO,CAAC,CAAC;AAC5D,CAAC;AAED;;;;;GAKG;AACH,MAAM,CAAC,KAAK,UAAU,WAAW,CAAC,EAAU;IAC1C,OAAO,kBAAkB,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;AAC5C,CAAC;AAED;;;GAGG;AACH,MAAM,UAAU,YAAY;IAC1B,OAAO,kBAAkB,CAAC,YAAY,EAAE,CAAC;AAC3C,CAAC;AAED,MAAM,UAAU,cAAc;IAC5B,kBAAkB,CAAC,cAAc,EAAE,CAAC;AACtC,CAAC;AAED;;;;GAIG;AACH,MAAM,UAAU,WAAW,CAAC,EAAU;IACpC,kBAAkB,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;AACrC,CAAC;AAED;;;;;GAKG;AACH,MAAM,UAAU,gBAAgB;IAC9B,OAAO,kBAAkB,CAAC,gBAAgB,EAAE,CAAC;AAC/C,CAAC;AAED,kDAAkD;AAClD,MAAM,YAAY,GAAG;IACnB,SAAS;IACT,oBAAoB;IACpB,YAAY;IACZ,aAAa;IACb,sBAAsB;IACtB,WAAW;IACX,YAAY;IACZ,cAAc;IACd,WAAW;IACX,gBAAgB;CACjB,CAAC;AAEF,eAAe,YAAY,CAAC","sourcesContent":["import ExpoAlarmKitModule, {\n  AuthorizationStatus,\n  LaunchPayload,\n} from './ExpoAlarmKitModule';\n\nexport { AuthorizationStatus, LaunchPayload };\n\n/**\n * Configure the module with an App Group identifier.\n * This MUST be called before any other methods to enable shared storage\n * between your app and the alarm dismiss intent.\n * \n * @param appGroupIdentifier - The App Group identifier (e.g., \"group.com.yourapp.alarms\")\n * @returns True if configuration succeeded.\n * \n * @example\n * ```typescript\n * import { configure } from 'expo-alarm-kit';\n * \n * // Call this early in your app initialization\n * const success = configure('group.com.yourcompany.yourapp');\n * if (!success) {\n *   console.error('Failed to configure ExpoAlarmKit');\n * }\n * ```\n */\nexport function configure(appGroupIdentifier: string): boolean {\n  return ExpoAlarmKitModule.configure(appGroupIdentifier);\n}\n\n/**\n * Request authorization to schedule alarms.\n * On first call, this will prompt the user for permission.\n * @returns The current authorization status.\n */\nexport async function requestAuthorization(): Promise<AuthorizationStatus> {\n  return ExpoAlarmKitModule.requestAuthorization();\n}\n\n/**\n * Generate a valid UUID string for use as an alarm ID.\n * Call this before scheduling an alarm to get a unique identifier.\n * @returns A new UUID string.\n */\nexport function generateUUID(): string {\n  return ExpoAlarmKitModule.generateUUID();\n}\n\nexport interface ScheduleAlarmOptions {\n  /** Unique identifier for the alarm */\n  id: string;\n  /** Unix timestamp in seconds for when the alarm should fire. Provide either this or date. */\n  epochSeconds?: number;\n  /** JavaScript Date object for when the alarm should fire. Provide either this or epochSeconds. */\n  date?: Date;\n  /** Title displayed for the alarm */\n  title: string;\n  /** Optional custom sound name (must exist in app bundle) */\n  soundName?: string;\n  /** Whether to launch the app when the alarm stop button is pressed. Defaults to false. */\n  launchAppOnDismiss?: boolean;\n  /** Whether to run a custom snooze intent when the snooze button is pressed. Defaults to false. */\n  doSnoozeIntent?: boolean;\n  /** Whether to launch the app when the custom snooze intent runs. Defaults to false. */\n  launchAppOnSnooze?: boolean;\n  /** Optional payload string returned by getLaunchPayload when dismissed. Defaults to null. */\n  dismissPayload?: string;\n  /** Optional payload string returned by getLaunchPayload when snoozed. Defaults to null. */\n  snoozePayload?: string;\n  /** Custom label for the stop button (default: 'Stop') */\n  stopButtonLabel?: string;\n  /** Custom label for the snooze button (default: 'Snooze') */\n  snoozeButtonLabel?: string;\n  /** Hex color for the stop button text (default: '#FFFFFF') */\n  stopButtonColor?: string;\n  /** Hex color for the snooze button text (default: '#FFFFFF') */\n  snoozeButtonColor?: string;\n  /** Hex color for the overall alarm tint (default: '#0000FF') */\n  tintColor?: string;\n  /** Snooze duration in seconds (default: 540 = 9 minutes) */\n  snoozeDuration?: number;\n}\n\n/**\n * Schedule a one-time alarm.\n * @param options - Alarm configuration options. Provide either epochSeconds or date.\n * @returns True if the alarm was scheduled successfully.\n */\nexport async function scheduleAlarm(options: ScheduleAlarmOptions): Promise<boolean> {\n  // Convert Date to epochSeconds if provided\n  let epochSeconds: number;\n  \n  if (options.date !== undefined && options.epochSeconds !== undefined) {\n    throw new Error('Provide either epochSeconds or date, not both');\n  }\n  \n  if (options.date !== undefined) {\n    epochSeconds = Math.floor(options.date.getTime() / 1000);\n  } else if (options.epochSeconds !== undefined) {\n    epochSeconds = options.epochSeconds;\n  } else {\n    throw new Error('Must provide either epochSeconds or date');\n  }\n  \n  // Pass to native module with epochSeconds\n  return ExpoAlarmKitModule.scheduleAlarm({\n    ...options,\n    epochSeconds,\n  });\n}\n\nexport interface ScheduleRepeatingAlarmOptions {\n  /** Unique identifier for the alarm */\n  id: string;\n  /** Hour (0-23) for the alarm */\n  hour: number;\n  /** Minute (0-59) for the alarm */\n  minute: number;\n  /** Array of weekday numbers: 1=Sunday, 2=Monday, 3=Tuesday, 4=Wednesday, 5=Thursday, 6=Friday, 7=Saturday */\n  weekdays: number[];\n  /** Title displayed for the alarm */\n  title: string;\n  /** Optional custom sound name (must exist in app bundle) */\n  soundName?: string;\n  /** Whether to launch the app when the alarm stop button is pressed. Defaults to false. */\n  launchAppOnDismiss?: boolean;\n  /** Whether to run a custom snooze intent when the snooze button is pressed. Defaults to false. */\n  doSnoozeIntent?: boolean;\n  /** Whether to launch the app when the custom snooze intent runs. Defaults to false. */\n  launchAppOnSnooze?: boolean;\n  /** Optional payload string returned by getLaunchPayload when dismissed. Defaults to null. */\n  dismissPayload?: string;\n  /** Optional payload string returned by getLaunchPayload when snoozed. Defaults to null. */\n  snoozePayload?: string;\n  /** Custom label for the stop button (default: 'Stop') */\n  stopButtonLabel?: string;\n  /** Custom label for the snooze button (default: 'Snooze') */\n  snoozeButtonLabel?: string;\n  /** Hex color for the stop button text (default: '#FFFFFF') */\n  stopButtonColor?: string;\n  /** Hex color for the snooze button text (default: '#FFFFFF') */\n  snoozeButtonColor?: string;\n  /** Hex color for the overall alarm tint (default: '#0000FF') */\n  tintColor?: string;\n  /** Snooze duration in seconds (default: 540 = 9 minutes) */\n  snoozeDuration?: number;\n}\n\n/**\n * Schedule a weekly repeating alarm.\n * @param options - Alarm configuration options.\n * @returns True if the alarm was scheduled successfully.\n */\nexport async function scheduleRepeatingAlarm(options: ScheduleRepeatingAlarmOptions): Promise<boolean> {\n  return ExpoAlarmKitModule.scheduleRepeatingAlarm(options);\n}\n\n/**\n * Cancel a scheduled alarm.\n * This removes the alarm from both AlarmKit and App Group storage.\n * @param id - The alarm ID to cancel.\n * @returns True if the alarm was cancelled successfully.\n */\nexport async function cancelAlarm(id: string): Promise<boolean> {\n  return ExpoAlarmKitModule.cancelAlarm(id);\n}\n\n/**\n * Get all currently scheduled alarm IDs.\n * @returns Array of alarm IDs.\n */\nexport function getAllAlarms(): string[] {\n  return ExpoAlarmKitModule.getAllAlarms();\n}\n\nexport function clearAllAlarms(): void {\n  ExpoAlarmKitModule.clearAllAlarms();\n}\n\n/**\n * Remove an alarm from App Group storage.\n * Note: This does NOT cancel the native alarm. Use cancelAlarm() to fully cancel an alarm.\n * @param id - The alarm ID to remove from storage.\n */\nexport function removeAlarm(id: string): void {\n  ExpoAlarmKitModule.removeAlarm(id);\n}\n\n/**\n * Get the launch payload if the app was opened from an alarm dismiss/snooze intent.\n * The payload contains the alarmId and payload string (or null if not provided).\n * Note: The payload is cleared after retrieval, so subsequent calls will return null.\n * @returns The launch payload or null if not launched from an alarm.\n */\nexport function getLaunchPayload(): LaunchPayload | null {\n  return ExpoAlarmKitModule.getLaunchPayload();\n}\n\n// Default export object for namespace-style usage\nconst ExpoAlarmKit = {\n  configure,\n  requestAuthorization,\n  generateUUID,\n  scheduleAlarm,\n  scheduleRepeatingAlarm,\n  cancelAlarm,\n  getAllAlarms,\n  clearAllAlarms,\n  removeAlarm,\n  getLaunchPayload,\n};\n\nexport default ExpoAlarmKit;\n"]}